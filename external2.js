var _0x536fa1=_0x3555;(function(_0xf2354a,_0x1147c1){var _0x2ede69=_0x3555,_0x13616d=_0xf2354a();while(!![]){try{var _0x4d4e20=parseInt(_0x2ede69(0xb5))/0x1+parseInt(_0x2ede69(0x97))/0x2+parseInt(_0x2ede69(0x73))/0x3+parseInt(_0x2ede69(0x9b))/0x4*(parseInt(_0x2ede69(0x99))/0x5)+-parseInt(_0x2ede69(0xc3))/0x6+-parseInt(_0x2ede69(0xc7))/0x7*(parseInt(_0x2ede69(0x9f))/0x8)+parseInt(_0x2ede69(0x74))/0x9;if(_0x4d4e20===_0x1147c1)break;else _0x13616d['push'](_0x13616d['shift']());}catch(_0x3ae31a){_0x13616d['push'](_0x13616d['shift']());}}}(_0x37c9,0xdffd6),StartAudioContext(Tone[_0x536fa1(0x7a)],_0x536fa1(0xb8)),document[_0x536fa1(0xb4)]('fs')[_0x536fa1(0x7d)](_0x536fa1(0xb2),()=>{var _0x11c8be=_0x536fa1;document['fullscreenElement']!=null&&document[_0x11c8be(0x96)]();var _0x4db376=document[_0x11c8be(0xa5)],_0x3b1a2b=_0x4db376[_0x11c8be(0xae)]||_0x4db376[_0x11c8be(0x92)]||_0x4db376[_0x11c8be(0x88)]||_0x4db376[_0x11c8be(0xa8)];if(_0x3b1a2b)_0x3b1a2b['call'](_0x4db376);else{if(typeof window[_0x11c8be(0xbf)]!==_0x11c8be(0xb0)){var _0x1bc671=new ActiveXObject(_0x11c8be(0x90));_0x1bc671!==null&&_0x1bc671[_0x11c8be(0x9d)](_0x11c8be(0x86));}}}));function _0x3555(_0x392697,_0x5d83){var _0x37c978=_0x37c9();return _0x3555=function(_0x3555cf,_0x2d36ac){_0x3555cf=_0x3555cf-0x71;var _0x38725a=_0x37c978[_0x3555cf];return _0x38725a;},_0x3555(_0x392697,_0x5d83);}var piano,config={'type':Phaser[_0x536fa1(0x8d)],'backgroundColor':_0x536fa1(0xa6),'scale':{'mode':Phaser[_0x536fa1(0xb9)][_0x536fa1(0xbe)],'autoCenter':Phaser['Scale'][_0x536fa1(0x82)],'width':0x640,'height':0x384,'parent':'phaser-example'},'scene':{'preload':preload,'create':create,'update':update}},MIDI_LOADED=![],TICKRATE=0x1,update_delta=0x0,RESET_TICKRATE=0x1,PAUSED=!![],ACTIVE_TRACK=0x0,triggered_notes=new Set(),prev_active_keys=[],pause,play,graphics,statics,seek_rect,tick=0x0,marker=0x0,marker_set=![],display_tick,MIDI,colours=[[0xa3d2ca,0x5eaaa8],[0xa685e2,0x6155a6],[0xf2aaaa,0xe36387],[0x8b5e83,0xd6b0b1],[0xa3d2ca,0x5eaaa8],[0xa685e2,0x6155a6],[0xf2aaaa,0xe36387]],the_keys=Array(0x58)[_0x536fa1(0x85)]([]),game=new Phaser[(_0x536fa1(0x89))](config),synth,sampler;function welcome(){var _0x4d87d3=_0x536fa1,_0x3ec0a4=document['getElementById']('welcome');_0x3ec0a4[_0x4d87d3(0xc4)]['display']=_0x4d87d3(0x95);}function make_the_keys_map(){const _0x25bdb1=[0x1,0x4,0x6,0x9,0xb,0xd,0x10,0x12,0x15,0x17,0x19,0x1c,0x1e,0x21,0x23,0x25,0x28,0x2a,0x2d,0x2f,0x31,0x34,0x36,0x39,0x3b,0x3d,0x40,0x42,0x45,0x47,0x49,0x4c,0x4e,0x51,0x53,0x55],_0x17c2f8=[0x0,0x2,0x3,0x5,0x7,0x8,0xa,0xc,0xe,0xf,0x11,0x13,0x14,0x16,0x18,0x1a,0x1b,0x1d,0x1f,0x20,0x22,0x24,0x26,0x27,0x29,0x2b,0x2c,0x2e,0x30,0x32,0x33,0x35,0x37,0x38,0x3a,0x3c,0x3e,0x3f,0x41,0x43,0x44,0x46,0x48,0x4a,0x4b,0x4d,0x4f,0x50,0x52,0x54,0x56,0x57];for(let _0x46c1dd=0x0;_0x46c1dd<0x34;_0x46c1dd++){the_keys[_0x17c2f8[_0x46c1dd]]=[0x0,_0x46c1dd*30.7+0x5,0x2f8,0x19,0x6e];}black_keys_order=['y','n','y','y','n','y','y','y','n','y','y','n','y','y','y','n','y','y','n','y','y','y','n','y','y','n','y','y','y','n','y','y','n','y','y','y','n','y','y','n','y','y','y','n','y','y','n','y','y','y'],counter=0x0;for(let _0x7f9804=0x0;_0x7f9804<0x34;_0x7f9804++){black_keys_order[_0x7f9804]=='y'&&(the_keys[_0x25bdb1[counter]]=[0x1,_0x7f9804*30.7+0x19,0x2f8,0x11,0x46],counter++);}}function just_white(){var _0x20c48f=_0x536fa1;graphics[_0x20c48f(0xaa)](0xffffff,0x1);for(key of the_keys){key[0x0]===0x0&&graphics[_0x20c48f(0x79)](key[0x1],key[0x2],key[0x3],key[0x4]);}}function just_black(){var _0x199aa7=_0x536fa1;graphics[_0x199aa7(0xaa)](0x222222,0x1);for(key of the_keys){key[0x0]===0x1&&graphics[_0x199aa7(0x79)](key[0x1],key[0x2],key[0x3],key[0x4]);}}function read_file(_0x2227cc){var _0x1d559a=_0x536fa1;if(_0x2227cc[_0x1d559a(0xbd)]['files'][_0x1d559a(0xc5)]>0x0){const _0x2c6b2d=new FileReader();_0x2c6b2d['onload']=function(_0x4133ef){var _0x16d6fa=_0x1d559a;in_midi=new Midi(_0x4133ef['target'][_0x16d6fa(0x76)]),out_midi=preprocess_midi(in_midi),MIDI=out_midi,tick=0x0,MIDI_LOADED=!![],marker_set=![],document[_0x16d6fa(0xb4)](_0x16d6fa(0xc6))[_0x16d6fa(0x94)]=![],document['getElementById']('ff')[_0x16d6fa(0x94)]=![],document['getElementById']('reset')[_0x16d6fa(0x94)]=![],document[_0x16d6fa(0xb4)]('rw')[_0x16d6fa(0x94)]=![],document['getElementById']('fs')[_0x16d6fa(0x94)]=![],document['getElementById']('pm')[_0x16d6fa(0x94)]=![],document[_0x16d6fa(0xb4)]('cm')['disabled']=![],TICKRATE=MIDI[_0x16d6fa(0xa7)]/MIDI[_0x16d6fa(0xb1)]/0x3c,RESET_TICKRATE=MIDI['durationTicks']/MIDI[_0x16d6fa(0xb1)]/0x3c,reset_speed(),!PAUSED&&playpause();},_0x2c6b2d[_0x1d559a(0xa1)](_0x2227cc[_0x1d559a(0xbd)][_0x1d559a(0xba)][0x0]);}}function preprocess_midi(_0x202d28){var _0x1da73b=_0x536fa1;console['log'](_0x202d28);var _0x1fce67=null,_0xa5966d=null;for(in_track of _0x202d28[_0x1da73b(0xbb)]){for(in_note of in_track['notes']){_0x1fce67?in_note[_0x1da73b(0xa7)]<_0x1fce67&&in_note[_0x1da73b(0xa7)]>0x5&&(_0x1fce67=in_note[_0x1da73b(0xa7)]):_0x1fce67=in_note[_0x1da73b(0xa7)],_0xa5966d===null?_0xa5966d=in_note[_0x1da73b(0x71)]:in_note[_0x1da73b(0x71)]<_0xa5966d&&(_0xa5966d=in_note[_0x1da73b(0x71)]);}}resize_factor=0x14/_0x1fce67,end_midi={'tracks':[],'duration':_0x202d28[_0x1da73b(0xb1)],'durationTicks':_0x202d28['durationTicks']*resize_factor};for(in_track of _0x202d28[_0x1da73b(0xbb)]){if(in_track['notes'][_0x1da73b(0xc5)]>0x0){out_notes=[];for(in_note of in_track[_0x1da73b(0xc2)]){out_note={'midi':in_note['midi'],'ticks':(in_note[_0x1da73b(0x71)]-_0xa5966d)*resize_factor-0x1c2,'durationTicks':in_note[_0x1da73b(0xa7)]*resize_factor-0x8},out_notes[_0x1da73b(0x7e)](out_note);}out_track={'notes':out_notes},end_midi[_0x1da73b(0xbb)][_0x1da73b(0x7e)](out_track);}}return console['log'](end_midi),end_midi;}function preload(){var _0x1409be=_0x536fa1;console[_0x1409be(0x80)](_0x1409be(0xaf)),synth=new Tone[(_0x1409be(0x77))]()[_0x1409be(0xad)](),sampler=new Tone[(_0x1409be(0xb7))]({'urls':{'A0':_0x1409be(0x9a),'C1':'C1.mp3','A1':'A1.mp3','C2':_0x1409be(0x98),'A2':_0x1409be(0x7c),'C3':'C3.mp3','A3':_0x1409be(0x9e),'C4':_0x1409be(0xc0),'A4':_0x1409be(0x81),'C5':_0x1409be(0xac),'A5':'A5.mp3','C6':_0x1409be(0x8f),'A6':_0x1409be(0x7b),'C7':'C7.mp3','A7':_0x1409be(0x84),'C8':'C8.mp3'},'release':0x1,'baseUrl':_0x1409be(0x72)})[_0x1409be(0xad)]();}function create(){var _0x5b3ad7=_0x536fa1;seek_rect=this[_0x5b3ad7(0xc1)]['graphics'](),graphics=this['add'][_0x5b3ad7(0x91)](),statics=this['add'][_0x5b3ad7(0x91)](),make_the_keys_map(),seek_rect[_0x5b3ad7(0xaa)](0xffffff,0.5);var _0x29c05f=0x40;for(var _0x16af6b=0x0;_0x16af6b<0x8;_0x16af6b++){seek_rect[_0x5b3ad7(0x79)](_0x29c05f,0x0,0x2,0x384),_0x29c05f+=0xd7;}seek_rect[_0x5b3ad7(0xaa)](0xffffff,0.4);var _0x338e56=0x9c;for(var _0x16af6b=0x0;_0x16af6b<0x8;_0x16af6b++){seek_rect['fillRect'](_0x338e56,0x0,0x2,0x384),_0x338e56+=0xd7;}graphics['fillStyle'](0x0,0x1),graphics[_0x5b3ad7(0x79)](0x0,0x2f6,0x640,0x8e),just_white(),just_black(),seeker=this[_0x5b3ad7(0xc1)][_0x5b3ad7(0xa9)](0x320,0x33d,0x640,0x8e,0x0,0x0);const _0x270b04=0x32,_0x59b4e6=0x0;back5=this[_0x5b3ad7(0xc1)][_0x5b3ad7(0xa9)](0xc8,0x1f4,0x190,0x1f4,0xffffff,_0x59b4e6),back5['setInteractive']()['on'](_0x5b3ad7(0x9c),()=>back_5()),fwd5=this[_0x5b3ad7(0xc1)]['rectangle'](0x578,0x1f4,0x190,0x1f4,0xffffff,_0x59b4e6),fwd5[_0x5b3ad7(0xc8)]()['on'](_0x5b3ad7(0x9c),()=>fwd_5()),pause_mid=this[_0x5b3ad7(0xc1)][_0x5b3ad7(0xa9)](0x320,0x1f4,0x320,0x1f4,0xffffff,_0x59b4e6),pause_mid[_0x5b3ad7(0xc8)]()['on'](_0x5b3ad7(0x9c),()=>playpause()),seeker[_0x5b3ad7(0xc8)]()['on'](_0x5b3ad7(0x9c),function(_0x528068){var _0x5f5c4c=_0x5b3ad7;MIDI_LOADED&&(tick=_0x528068[_0x5f5c4c(0xa2)]/0x640*(MIDI[_0x5f5c4c(0xa7)]+0x2f6));});}function fn_place_marker(){var _0x2ef4c1=_0x536fa1;marker=tick[_0x2ef4c1(0xb6)](),marker_set=!![];}function fn_clear_marker(){marker_set=![];}function back_5(){var _0xf2fcbd=_0x536fa1;MIDI_LOADED&&(marker_set?tick=marker[_0xf2fcbd(0xb6)]():(tick=tick-0x5/MIDI[_0xf2fcbd(0xb1)]*MIDI['durationTicks'],tick<0x0&&(tick=0x0)));}function fwd_5(){var _0x3aed01=_0x536fa1;MIDI_LOADED&&(tick=tick+0x5/MIDI['duration']*MIDI[_0x3aed01(0xa7)],tick>MIDI['durationTicks']&&(tick=MIDI[_0x3aed01(0xa7)]));}function upload_trigger(){var _0x5896e1=_0x536fa1;document['getElementById']('filereader')[_0x5896e1(0xb2)]();}function load_about(){var _0x912482=_0x536fa1;document[_0x912482(0xb4)](_0x912482(0x8c))[_0x912482(0xb2)]();}function reset_speed(){var _0x103b0f=_0x536fa1;TICKRATE=RESET_TICKRATE['valueOf'](),document[_0x103b0f(0xb4)](_0x103b0f(0x8b))[_0x103b0f(0x7f)]=_0x103b0f(0x8e);}function speedup(){var _0x9ea679=_0x536fa1;TICKRATE=TICKRATE+RESET_TICKRATE*0.1,document[_0x9ea679(0xb4)]('speed')[_0x9ea679(0x7f)]=(TICKRATE/RESET_TICKRATE)['toFixed'](0x1);}function slowdown(){var _0x428060=_0x536fa1;TICKRATE/RESET_TICKRATE>0.1&&(TICKRATE=TICKRATE-RESET_TICKRATE*0.1,document[_0x428060(0xb4)](_0x428060(0x8b))['innerHTML']=(TICKRATE/RESET_TICKRATE)[_0x428060(0x78)](0x1));}function playpause(){var _0x1c2298=_0x536fa1;MIDI_LOADED&&(PAUSED=!PAUSED,PAUSED?document['getElementById'](_0x1c2298(0xb3))[_0x1c2298(0x87)]='play.png':document[_0x1c2298(0xb4)]('playpausebtn')[_0x1c2298(0x87)]=_0x1c2298(0x93));}function update(_0x38cbf5,_0x354acf){var _0x40b604=_0x536fa1;!PAUSED&&(tick=tick+TICKRATE*(_0x354acf/16.67)),MIDI_LOADED&&(graphics[_0x40b604(0xa4)](),vn_ak=get_visible_notes_and_active_keys(),visible_notes=vn_ak[0x0],active_keys=vn_ak[0x1],next_active_keys=vn_ak[0x2],trigger_notes(active_keys),falling_notes(visible_notes,next_active_keys),graphics[_0x40b604(0xaa)](0x111111,0x1),graphics[_0x40b604(0x79)](0x0,0x2f6,0x640,0x8e),just_white(),graphics['fillStyle'](0xa5fed2,0x1),active_white(active_keys,visible_notes,next_active_keys),just_black(),graphics[_0x40b604(0xaa)](0x62b38a,0x1),active_black(active_keys,visible_notes),seek_point=tick/(MIDI[_0x40b604(0xa7)]+0x2f6)*0x640,graphics[_0x40b604(0xaa)](0xffffff,0.5),graphics[_0x40b604(0x79)](0x0,0x370,seek_point,0x14),marker_set&&(marker_point=marker/(MIDI['durationTicks']+0x2f6)*0x640,graphics[_0x40b604(0xaa)](0xffc300,0x1),graphics[_0x40b604(0x79)](marker_point-0x8,0x370,0x8,0x14)),tick>MIDI[_0x40b604(0xa7)]+0x2f6&&(!PAUSED&&playpause()));}function get_visible_notes_and_active_keys(){var _0xe60d5c=_0x536fa1;visible_notes=[],active_keys=[],next_active_keys=[];var _0x1cc191=0x0;for(track of MIDI[_0xe60d5c(0xbb)]){for(note of track[_0xe60d5c(0xc2)]){note[_0xe60d5c(0xab)]=_0x1cc191,bottom_of_note=tick-note['ticks'],top_of_note=bottom_of_note-note[_0xe60d5c(0xa7)],bottom_of_note>0x0&&(top_of_note<0x2f6&&visible_notes[_0xe60d5c(0x7e)](note)),bottom_of_note>0x2f6&&(top_of_note<0x2f6&&active_keys['push'](note));}_0x1cc191++;}var _0x43b3b9=![],_0x3c5aac={};for(note of visible_notes){tick-note[_0xe60d5c(0x71)]<0x2f6&&(distance=Math['abs'](tick-note[_0xe60d5c(0x71)]-0x2f6),note['track']in _0x3c5aac?distance<_0x3c5aac[note[_0xe60d5c(0xab)]]&&(_0x3c5aac[note[_0xe60d5c(0xab)]]=distance):_0x3c5aac[note[_0xe60d5c(0xab)]]=distance);}for(note of visible_notes){note_distance=Math[_0xe60d5c(0xa3)](tick-note['ticks']-0x2f6),note_distance==_0x3c5aac[note[_0xe60d5c(0xab)]]&&next_active_keys[_0xe60d5c(0x7e)](note);}return[visible_notes,active_keys,next_active_keys];}function _0x37c9(){var _0x52b752=['FIT','ActiveXObject','C4.mp3','add','notes','1960278KDymRt','style','length','welcome','11078669ZkZeDS','setInteractive','size','ticks','https://tonejs.github.io/audio/salamander/','135279drWFIZ','4431915pmHMuZ','filter','result','PolySynth','toFixed','fillRect','context','A6.mp3','A2.mp3','addEventListener','push','innerHTML','log','A4.mp3','CENTER_BOTH','has','A7.mp3','fill','{F11}','src','mozRequestFullScreen','Game','pow','speed','aboutpage','AUTO','1.0','C6.mp3','WScript.Shell','graphics','webkitRequestFullScreen','pause.png','disabled','none','exitFullscreen','778616cgZaDN','C2.mp3','80gIFvLR','A0.mp3','115288iJNPwf','pointerdown','SendKeys','A3.mp3','8JDVQYC','triggerAttackRelease','readAsArrayBuffer','worldX','abs','clear','body','#121212','durationTicks','msRequestFullScreen','rectangle','fillStyle','track','C5.mp3','toDestination','requestFullScreen','Copyright\x202022\x20Kesh\x20Kaushal','undefined','duration','click','playpausebtn','getElementById','1438854DyNpZE','valueOf','Sampler','#playpausebtn','Scale','files','tracks','midi','target'];_0x37c9=function(){return _0x52b752;};return _0x37c9();}function trigger_notes(_0xe4d99){var _0x3b7f27=_0x536fa1,_0x53ffba=new Set();if(prev_active_keys){var _0x3e0af2=new Set(_0xe4d99),_0x464526=new Set(prev_active_keys);_0x53ffba=new Set([..._0x3e0af2][_0x3b7f27(0x75)](_0x1fe10f=>!_0x464526[_0x3b7f27(0x83)](_0x1fe10f)));}else _0x53ffba=new Set(_0xe4d99);prev_active_keys=[..._0xe4d99];if(_0x53ffba[_0x3b7f27(0xc9)]>0x0){var _0x5f51e1=[],_0x459c1d=[];for(newnote of _0x53ffba){power=(newnote[_0x3b7f27(0xbc)]-0x45)/0xc,frequency=Math[_0x3b7f27(0x8a)](0x2,power)*0x1b8,_0x5f51e1[_0x3b7f27(0x7e)](frequency),_0x459c1d[_0x3b7f27(0x7e)](newnote['durationTicks']/0x3c/TICKRATE);}!PAUSED&&sampler[_0x3b7f27(0xa0)](_0x5f51e1,_0x459c1d);}}function falling_notes(_0x4e8ca,_0xb67c55){var _0x1084f5=_0x536fa1;for(note of _0x4e8ca){the_key=the_keys[note[_0x1084f5(0xbc)]-0x15],x=the_key[0x1],y=tick-note[_0x1084f5(0x71)]-note[_0x1084f5(0xa7)],graphics['fillStyle'](colours[note[_0x1084f5(0xab)]][the_key[0x0]]),graphics[_0x1084f5(0x79)](the_key[0x1],y,the_key[0x3],note['durationTicks'],0x4);}}function active_white(_0x406708,_0x3efdd1,_0x2fa9e6){var _0xa06452=_0x536fa1;for(key of _0x406708){the_key=the_keys[key[_0xa06452(0xbc)]-0x15],the_key[0x0]===0x0&&(graphics[_0xa06452(0xaa)](colours[key[_0xa06452(0xab)]][0x0],0x1),graphics[_0xa06452(0x79)](the_key[0x1],the_key[0x2],the_key[0x3],the_key[0x4]));}for(note of _0x2fa9e6){the_key=the_keys[note[_0xa06452(0xbc)]-0x15],the_key[0x0]===0x0&&(the_key=the_keys[note[_0xa06452(0xbc)]-0x15],x=the_key[0x1],y=tick-note[_0xa06452(0x71)]-note['durationTicks'],graphics[_0xa06452(0xaa)](0xff0000,0x1),graphics[_0xa06452(0x79)](the_key[0x1],0x2f8,the_key[0x3],0xf,0.2));}}function active_black(_0x24bc94,_0x5cf7a1){var _0x24ae00=_0x536fa1;for(key of _0x24bc94){the_key=the_keys[key[_0x24ae00(0xbc)]-0x15],the_key[0x0]===0x1&&(graphics[_0x24ae00(0xaa)](colours[key[_0x24ae00(0xab)]][0x1]),graphics[_0x24ae00(0x79)](the_key[0x1],the_key[0x2],the_key[0x3],the_key[0x4]));}for(note of next_active_keys){the_key=the_keys[note[_0x24ae00(0xbc)]-0x15],the_key[0x0]===0x1&&(the_key=the_keys[note[_0x24ae00(0xbc)]-0x15],x=the_key[0x1],y=tick-note[_0x24ae00(0x71)]-note[_0x24ae00(0xa7)],graphics[_0x24ae00(0xaa)](0xaa0000,0x1),graphics[_0x24ae00(0x79)](the_key[0x1],0x2f8,the_key[0x3],0xf,0.2));}}